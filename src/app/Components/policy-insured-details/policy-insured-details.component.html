<div class="container">
    <div class="row">
        <div class="col-sm">
            <div class="mt-5 mx-4" >
                <div class="card border-3">
                    <div class="card-body">
                        <form  #addform="ngForm" (ngSubmit)="OnSubmit() " >
                            <div class="form-group">
                                <input type="number"  class="form-control my-3 py-2 mb-0" placeholder="Policy Number" name="policynumber" [(ngModel)]="policyNumber" required  #policy="ngModel">
                                <small class="text-danger ms-2" *ngIf="policy.invalid && policy.touched">Policy Number is required</small>
                            </div>
                            <div class="form-group">
                                <input type="text"  class="form-control my-3 py-2 mb-0" placeholder="Chassis Number" name="chasisnumber" [(ngModel)]="chasisNumber" required #chasis="ngModel" >
                                <small class="text-danger ms-2" *ngIf="chasis.invalid && chasis.touched" >Chassis Number is required</small>
                            </div>
                        
                            <div class="text-center mt-3">
                                <button class="btn btn-primary" [disabled]="addform.invalid">Submit</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm">
            <div class="mt-5 ms-4">
                <div class="form-group"  >

                    <label for="selectPolicyNumber">Select a Policy Number</label>
                    <select class="form-control" id="selectPolicyNumber"  name="selectedPolicyNumber" [(ngModel)]="selectedPolicyNumber" (change)="fetchInsuredDetails()" >
                        <ng-container *ngIf="policy_Numbers.length > 0; else noPolicyNumbers">
                            <option disabled selected></option>
                            <option *ngFor="let item of policy_Numbers">{{item}}</option>
                        </ng-container>
                        <ng-template #noPolicyNumbers>
                            <option disabled>No policy numbers available</option>
                        </ng-template>
                    </select>
                </div>
            </div>
        </div>
    </div>


    <div class="row mt-5 mx-5" *ngIf="selectedPolicyNumber">
        <div class="accordion mt-4" id="accordionFlushExample" *ngIf="insuredDetails" >
            <div class="accordion-item border-4" >
              <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                    Personal Information:
                </button>
              </h2>
              <div id="flush-collapseOne" class="accordion-collapse collapse" data-bs-parent="#accordionFlushExample">
                <div class="accordion-body">

                    <section style="background-color: #eee;">
                        <div class="container py-3 ms-5">
                           <div class="col-lg-8">
                              <div class="card">
                                <div class="card-body" >
                                  <div class="row ">
                                    <div class="col-sm-3 ">
                                      <p class="mb-0">Full Name</p>
                                    </div>
                                    <div class="col-sm-9">
                                      <p class="text-muted mb-0">{{insuredDetails.firstName}}</p>
                                    </div>
                                  </div>
                                  <hr>
                                  <div class="row">
                                    <div class="col-sm-3">
                                      <p class="mb-0">Last Name</p>
                                    </div>
                                    <div class="col-sm-9">
                                      <p class="text-muted mb-0">{{insuredDetails.lastName}}</p>
                                    </div>
                                  </div>
                                  <hr>
                                  <div class="row">
                                    <div class="col-sm-3">
                                      <p class="mb-0">Aadhar Number</p>
                                    </div>
                                    <div class="col-sm-9">
                                      <p class="text-muted mb-0">{{insuredDetails.aadharNumber}}</p>
                                    </div>
                                  </div>
                                  <hr>
                                  <div class="row" >
                                    <div class="col-sm-3">
                                      <p class="mb-0">License Number</p>
                                    </div>
                                    <div class="col-sm-9">
                                      <p class="text-muted mb-0">{{insuredDetails.licenseNumber}}</p>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                    </section>

                </div>
              </div>
            </div>
            <div class="accordion-item border-4">
              <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
                    Contact Information:
                </button>
              </h2>
              <div id="flush-collapseTwo" class="accordion-collapse collapse" data-bs-parent="#accordionFlushExample">
                <div class="accordion-body">
                    


                    <section style="background-color: #eee;"> 
                        <div class="container py-5 ms-5">
                           <div class="col-lg-8">
                              <div class="card mb-4">
                                <div class="card-body ms-5">
                                  <div class="row">
                                    <div class="col-sm-3">
                                      <p class="mb-0">AddressLine1</p>
                                    </div>
                                    <div class="col-sm-9">
                                      <p class="text-muted mb-0">{{insuredDetails.addressLine1}}</p>
                                    </div>
                                  </div>
                                  <hr>
                                  <div class="row">
                                    <div class="col-sm-3">
                                      <p class="mb-0">AddressLine2</p>
                                    </div>
                                    <div class="col-sm-9">
                                      <p class="text-muted mb-0">{{insuredDetails.addressLine2}}</p>
                                    </div>
                                  </div>
                                  <hr>
                                  <div class="row">
                                    <div class="col-sm-3">
                                      <p class="mb-0">City</p>
                                    </div>
                                    <div class="col-sm-9">
                                      <p class="text-muted mb-0">{{insuredDetails.city}}</p>
                                    </div>
                                  </div>
                                  <hr>
                                  <div class="row">
                                    <div class="col-sm-3">
                                      <p class="mb-0">State</p>
                                    </div>
                                    <div class="col-sm-9">
                                      <p class="text-muted mb-0">{{insuredDetails.state}}</p>
                                    </div>
                                  </div>
                                  <hr>
                                  <div class="row">
                                    <div class="col-sm-3">
                                      <p class="mb-0">Pincode</p>
                                    </div>
                                    <div class="col-sm-9">
                                      <p class="text-muted mb-0">{{insuredDetails.pincode}}</p>
                                    </div>
                                  </div>
                                  <hr>
                                  <div class="row">
                                    <div class="col-sm-3">
                                      <p class="mb-0">Mobile No</p>
                                    </div>
                                    <div class="col-sm-9">
                                      <p class="text-muted mb-0">{{insuredDetails.mobileNo}}</p>
                                    </div>
                                  </div>
                                  <hr>
                                  <div class="row">
                                    <div class="col-sm-3">
                                      <p class="mb-0">Email</p>
                                    </div>
                                    <div class="col-sm-9">
                                      <p class="text-muted mb-0">{{insuredDetails.email}}</p>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                    </section>


                </div>
              </div>
            </div>
            <div class="accordion-item border-4">
              <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseThree" aria-expanded="false" aria-controls="flush-collapseThree">
                    Financial Information:
                </button>
              </h2>
              <div id="flush-collapseThree" class="accordion-collapse collapse" data-bs-parent="#accordionFlushExample">
                <div class="accordion-body">

                    <section style="background-color: #eee;">    
                        <div class="container py-5 ms-5">
                           <div class="col-lg-8">
                              <div class="card mb-4">
                                <div class="card-body ms-5">
                                  <div class="row ">
                                    <div class="col-sm-3 ">
                                      <p class="mb-0">PAN Number</p>
                                    </div>
                                    <div class="col-sm-9">
                                      <p class="text-muted mb-0">pannumber</p>
                                    </div>
                                  </div>
                                  <hr>
                                  <div class="row">
                                    <div class="col-sm-3">
                                      <p class="mb-0">Account Number</p>
                                    </div>
                                    <div class="col-sm-9">
                                      <p class="text-muted mb-0">accountNumber</p>
                                    </div>
                                  </div>
                                  <hr>
                                  <div class="row">
                                    <div class="col-sm-3">
                                      <p class="mb-0">IFSC Code</p>
                                    </div>
                                    <div class="col-sm-9">
                                      <p class="text-muted mb-0">ifsccode</p>
                                    </div>
                                  </div>
                                  <hr>
                                  <div class="row">
                                    <div class="col-sm-3">
                                      <p class="mb-0">Bank Name</p>
                                    </div>
                                    <div class="col-sm-9">
                                      <p class="text-muted mb-0">bankName</p>
                                    </div>
                                  </div>
                                  <hr>
                                  <div class="row">
                                    <div class="col-sm-3">
                                      <p class="mb-0">Bank Address</p>
                                    </div>
                                    <div class="col-sm-9">
                                      <p class="text-muted mb-0">bankAddress</p>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>    
                      </section>
                </div>
              </div>
            </div>
        </div>
        <div class="text-center my-3">
        <button class="btn btn-danger" (click)="deleteUserPolicy()">Delete</button>
        </div>
    </div>
</div>


    









